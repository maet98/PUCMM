%option noyywrap

D [0-9]
A [a-zA-Z]

%{
#include "Tokens.h"

int tokenCount;
%}

%% 

({A}|"_")({A}|{D}|"_")*	{return (_ID);}
"{"[^}]*"}"				{return (_COMMENT);}
\"[^"]\"	{return (_LITERAL);}
([-+]?[1-9]{D})|"0"		{return (_ICONST); }
{D}+"."{D}+				{return (_RCONST); }
{D}+("."{D}+)?"E""-"?{D}+	{return (_ECONST);}
"["			{return (_LBRACK);}
"]"			{return (_RBRACK);}
"("			{return ();}
")"			{return ();}
";"			{return ();}
":"			{return ();}
","
":""="
"+"
"-"
"*"
"/"
"="
"<"
">"
"<""="
">""="
"<""">"
("p"|"P")("r"|"R")("o"|"O")("g"|"G")("r"|"R")("a"|"A")("m"|"M")        { return( _PROGRAM); }
("e"|"E")("n"|"N")("d"|"D")("v"|"V")("a"|"A")("r"|"R")("s"|"S")        { return( _ENDVARS); }
("e"|"E")("n"|"N")("d"|"D")("p"|"P")("r"|"R")("o"|"O")("c"|"C")("s"|"S")        { return( _ENDPROCS); }
("v"|"V")("a"|"A")("r"|"R")("i"|"I")("a"|"A")("b"|"B")("l"|"L")("e"|"E")("s"|"S")        { return( _VARIABLES); }
("n"|"N")("o"|"O")("v"|"V")("a"|"A")("r"|"R")("i"|"I")("a"|"A")("b"|"B")("l"|"L")("e"|"E")("s"|"S")        { return( _NOVARIABLES); }
("i"|"I")("n"|"N")("t"|"T")("e"|"E")("g"|"G")("e"|"E")("r"|"R")        { return( _INTEGER); }
("r"|"R")("e"|"E")("a"|"A")("l"|"L")        { return( _REAL); }
("s"|"S")("t"|"T")("r"|"R")("i"|"I")("n"|"N")("g"|"G")        { return( _STRING); }
("p"|"P")("r"|"R")("o"|"O")("c"|"C")("e"|"E")("d"|"D")("u"|"U")("r"|"R")("e"|"E")("s"|"S")        { return( _PROCEDURES); }
("n"|"N")("o"|"O")("p"|"P")("r"|"R")("o"|"O")("c"|"C")("e"|"E")("d"|"D")("u"|"U")("r"|"R")("e"|"E")("s"|"S")        { return( _NOPROCEDURES); }
("p"|"P")("r"|"R")("o"|"O")("c"|"C")("e"|"E")("d"|"D")("u"|"U")("r"|"R")("e"|"E")        { return( _PROCEDURE); }
("b"|"B")("e"|"E")("g"|"G")("i"|"I")("n"|"N")        { return( _BEGIN); }
("e"|"E")("n"|"N")("d"|"D")        { return( _END); }
("f"|"F")("o"|"O")("r"|"R")        { return( _FOR); }
("t"|"T")("o"|"O")        { return( _TO); }
("d"|"D")("o"|"O")        { return( _DO); }
("i"|"I")("f"|"F")        { return( _IF); }
("t"|"T")("h"|"H")("e"|"E")("n"|"N")        { return( _THEN); }
("e"|"E")("l"|"L")("s"|"S")("e"|"E")        { return( _ELSE); }
("r"|"R")("e"|"E")("a"|"A")("d"|"D")        { return( _READ); }
("w"|"W")("r"|"R")("i"|"I")("t"|"T")("e"|"E")        { return( _WRITE); }


.

%%

void yyerror(int tokenCount)
{
	printf("Hubo un error al analizar el lexema %s en la columna %d", yytext, tokenCount);
	exit(1);
}

void yytrap() {}